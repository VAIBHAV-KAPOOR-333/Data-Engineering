A Star Schema is a simple data model where:

There is ONE central table ‚Üí Fact Table
Connected to multiple surrounding tables ‚Üí Dimension Tables


Why Star Schema is Used in Snowflake?

Very easy to understand
Fast querying (important for BI tools like Power BI, Tableau)
Perfect for analytics & reporting
    

A Snowflake Schema is an extension of Star Schema, where:

Dimension tables are broken into smaller tables
More joins


| Feature         | Star Schema | Snowflake Schema |
| --------------- | ----------- | ---------------- |
| Complexity      | Simple      | Complex          |
| Number of joins | Less        | More             |
| Performance     | Faster      | Slightly slower  |
| Storage         | More        | Less             |
| Snowflake Usage | Preferred   | Used when needed |


# In Snowflake, storage is cheap ‚Üí Star schema is usually preferred.




Partitioning means dividing large data into smaller logical pieces so queries run faster.

Snowflake uses:
Micro-Partitions
Automatic
Invisible to user
Created while loading data
Usually 16MB‚Äì512MB in size


Snowflake:
Automatically scans only relevant micro-partitions
This is called partition pruning
‚úî Faster queries
‚úî Less cost

üìå You don‚Äôt worry about indexes much in Snowflake.



Natural Key:
A key that comes from real business data.
Example:
Email ID
Aadhaar number
Product code

Natural Keys are:
Still stored
Used for data matching
Used in ETL/ELT logic


Surrogate Key:
A system-generated key.
Example:
Integer
No business meaning
Created by Data Engineer

üìå Always use Surrogate Keys in Dimension Tables



Typical Snowflake Data Engineering Flow:
Load raw data into staging tables
Clean & transform data
Create dimension tables (with surrogate keys)
Create fact tables
Use Star Schema
Snowflake handles partitioning & indexing automatically
BI tools query Snowflake efficiently



Simple Summary (Very Important for Interviews):
‚úî Star Schema ‚Üí Simple, fast, preferred in Snowflake
‚úî Snowflake Schema ‚Üí Complex, more joins
‚úî Partitioning ‚Üí Automatic using micro-partitions
‚úî Indexing ‚Üí No traditional indexes in Snowflake
‚úî Surrogate Keys ‚Üí System-generated, best practice
‚úî Natural Keys ‚Üí Business keys, used for matching



| Feature         | Micro-Partitions | Clustering       | Search Optimization |
| --------------- | ---------------- | ---------------- | ------------------- |
| Manual setup    | ‚ùå No            | ‚úÖ Yes           | ‚úÖ Yes              |
| Cost            | Free             | Compute cost     | Extra cost          |
| Best for        | Range filters    | Large tables     | Point lookups       |
| Acts like index | Yes (auto)       | Improves pruning | Strongest index     |



A Warehouse in Snowflake is NOT a place to store data.
It is a compute engine ‚Äì meaning:
A warehouse provides CPU + memory to run SQL queries, load data, transform data.


Mini/X-Small warehouse:
Low cost
Enough for learning, practice, small datasets
Perfect for freshers


| Role            | Meaning                     |
| --------------- | --------------------------- |
| ACCOUNTADMIN    | Full power (dangerous)      |
| SYSADMIN        | Create warehouses/databases |
| SECURITYADMIN   | Manage users & roles        |
| **CUSTOM ROLE** | Best practice               |



| Schema    | Purpose           |
| --------- | ----------------- |
| raw       | Raw ingested data |
| staging   | Cleaned data      |
| analytics | Final reporting   |



What is a Stage?
A stage is a temporary storage location where files are kept before loading into tables.


Why Stages are Needed in Data Engineering?
Data usually comes as:
CSV
JSON
Parquet

You:
Upload file to Stage
Load data from stage ‚Üí table


| Stage Type      | Meaning          |
| --------------- | ---------------- |
| User Stage      | Personal space   |
| Table Stage     | Linked to table  |
| **Named Stage** | Best practice    |
| External Stage  | S3 / Azure / GCS |



| UI Section    | Purpose                |
| ------------- | ---------------------- |
| Worksheets    | Write SQL              |
| Data          | View databases, tables |
| Warehouses    | Manage compute         |
| Query History | Debug queries          |
| Stages        | Upload files           |
| Roles         | Access control         |


WINDOW FUNCTION:
| Function     | Use                   |
| ------------ | --------------------- |
| ROW_NUMBER() | Remove duplicates     |
| RANK()       | Ranking               |
| DENSE_RANK() | Ranking without gaps  |
| SUM() OVER   | Running total         |
| LAG / LEAD   | Previous / next value |

